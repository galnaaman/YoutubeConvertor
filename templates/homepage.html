<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>VideoFlow</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="stylesheet" href={% static "css/style.css" %}>
    <link rel="apple-touch-icon" sizes="180x180" href={% static "favicon/apple-touch-icon.png" %}>
    <link rel="icon" type="image/png" sizes="32x32" href={% static "favicon/favicon-32x32.png" %}>
    <link rel="icon" type="image/png" sizes="16x16" href={% static "favicon/favicon-16x16.png" %}>
    <link rel="manifest" href={% static "favicon/site.webmanifest" %}>
        <link rel="stylesheet" href={% static "boxicons-2.0.9/css/boxicons.css" %}>
    <link rel="stylesheet" href={% static "boxicons-2.0.9/css/boxicons.min.css" %}>
</head>
<body>
<div class="container py-4">
    <header class="border-bottom pb-3 mb-4">
        <a class="d-flex align-items-center text-dark text-decoration-none" href="">
            <img alt="" width="32" height="32" class="d-inline-block align-text-top" src={% static "only logo.png" %}>
            <h3 class="ms-3">VideoFlow</h3>
        </a>
    </header>
    <div class="p-5 mb-4 bg-light rounded-3">
        <div class="container-fluid py-5 text-center">
            <div class="text-center d-inline-flex ">
                <i class='bx bxl-youtube ' style='color:#ff0000; font-size: 65px'></i>
                <h1 class="display-5 fw-bold"> YouTube Video Downloader</h1>
            </div>
            <p>
                Convert and download Youtube videos in MP3, MP4, 3GP for free
            </p>
            <form class="" method="POST" action={% url "homepage" %}>
                {% csrf_token %}
                   <div class="row">
                       <div class="col-2">

                       </div>
                       <div class="col-8">
                           {% if error %}
                                <p class="text-danger">
                                    {{ error }}
                                </p>
                           {% endif %}
                           <div class="input-group mb-2 container">
                             <input type="text" class="form-control text-center" name="link" placeholder="https://youtube.com/watch?v=<id>">
                             <button type="submit" class="btn btn-outline-dark">Search</button>
                            </div>
                       </div>
                       <div class="col-2">

                       </div>
                   </div>
            </form>
                {% if isVaild %}

                    <form method="post" action={% url "download"%}>
                    {% csrf_token %}
                        <input type="hidden" name="link" value={{ link }}>
                        <button type="submit" class="btn-rounded btn btn-pink-moon">Download</button>
                    </form>
                    <!--<button class="btn-rounded btn btn-pink-moon">Download</button>!-->
                {% endif %}
        </div>
    </div>
        {% if isVaild %}
                <div class="row align-items-md-stretch">
                  <div class="col-md-6">
                    <div class="h-100 p-5 text-white  rounded-3 card" style="background-color: #8BC6EC;
background-image: linear-gradient(135deg, #8BC6EC 0%, #9599E2 100%);
">
                        <h2 class="border-bottom text-center">S T A T S</h2>
                        {% if length %}
                            <h4 class="mt-3"><i class='bx bx-time' ></i> Length - {{ length }} Seconds</h4>
                        {% else %}
                            <h4 class="mt-3"><i class='bx bx-time' ></i> Length - {{ minutes }} Minutes and {{ seconds }} Seconds</h4>
                        {% endif %}
                        <h4><i class='bx bx-bar-chart'></i> Views - {{ views }}</h4>
                        <h4><i class='bx bx-star bx-tada' style='color:#fff90a'></i>{{ rating }}</h4>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="h-100 p-5 bg-light border rounded-3 card">
                        <div class="text-center">
                            <h2 class="border-bottom">{{ title }}</h2>
                        </div>
                        <img src={{ thumbnail }}>
                    </div>
                  </div>
                 </div>
            {% else %}
                     <div class="row align-items-md-stretch">
                  <div class="col-md-6">
                    <div class="h-100 p-5 text-white  rounded-3" style="background-image: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);">
                      <h2>Change the background</h2>
                      <p>Swap the background-color utility and add a `.text-*` color utility to mix up the jumbotron look. Then, mix and match with additional component themes and more.</p>
                      <button class="btn btn-outline-light" type="button">Example button</button>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="h-100 p-5 bg-light border rounded-3">
                      <h2>Add borders</h2>
                      <p>Or, keep it light and add a border for some added definition to the boundaries of your content. Be sure to look under the hood at the source HTML here as we've adjusted the alignment and sizing of both column's content for equal-height.</p>
                      <button class="btn btn-outline-secondary" type="button">Example button</button>
                    </div>
                  </div>
                 </div>
        {% endif %}
       <footer class="pt-3 mt-4 text-muted border-top">
      &copy;GalN 2021
    </footer>
</div>



<script>
    function down(link) {
       const fs = require('fs')
       const youtubedl = require('youtube-dl')
    }
</script>
<script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
</body>
</html>

{##}
{#    <div class="row align-items-md-stretch">#}
{#      <div class="col-md-6">#}
{#        <div class="h-100 p-5 text-white bg-dark rounded-3">#}
{#          <h2>Change the background</h2>#}
{#          <p>Swap the background-color utility and add a `.text-*` color utility to mix up the jumbotron look. Then, mix and match with additional component themes and more.</p>#}
{#          <button class="btn btn-outline-light" type="button">Example button</button>#}
{#        </div>#}
{#      </div>#}
{#      <div class="col-md-6">#}
{#        <div class="h-100 p-5 bg-light border rounded-3">#}
{#          <h2>Add borders</h2>#}
{#          <p>Or, keep it light and add a border for some added definition to the boundaries of your content. Be sure to look under the hood at the source HTML here as we've adjusted the alignment and sizing of both column's content for equal-height.</p>#}
{#          <button class="btn btn-outline-secondary" type="button">Example button</button>#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{##}









{#<nav class="navbar navbar-light">#}
{#    <div class="container-fluid">#}
{#            <a class="navbar-brand" href={% url "homepage" %}>#}
{#                <img alt="" width="32" height="32" class="d-inline-block align-text-top" src={% static "only logo.png" %}>#}
{#                VideoFlow#}
{#            </a>#}
{#    </div>#}
{#</nav>#}
